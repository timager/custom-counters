(this["webpackJsonpcustom-counters"]=this["webpackJsonpcustom-counters"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),o=n(14),r=n.n(o),i=(n(24),n(2)),s=(n(25),n(10)),l=n(5),u=Object(c.createContext)([]),j={min:1,max:6,diceCount:1,logEnabled:!1,log:[]};function b(){var e;try{var t=JSON.parse(localStorage.getItem("config"));e=Object(l.a)(Object(l.a)({},j),null!==t&&void 0!==t?t:[])}catch(n){e=j}return[e,function(e){return localStorage.setItem("config",JSON.stringify(e))}]}function d(e){var t=Object(c.useContext)(u),n=Object(i.a)(t,2),a=n[0],o=n[1],r=b(),j=Object(i.a)(r,2)[1];if(!a)throw Error("useConfig hook must be used inside ConfigContext.Provider");return[a[e],function(t){var n=Object(l.a)(Object(l.a)({},a),{},Object(s.a)({},e,t));o(n),j(n)}]}var f=n(7),v=n(4),O=n(18),h=n.n(O),g=n(0);function m(){var e=d("min"),t=Object(i.a)(e,2),n=t[0],a=t[1],o=d("max"),r=Object(i.a)(o,2),s=r[0],l=r[1],u=d("diceCount"),j=Object(i.a)(u,2),b=j[0],O=j[1],m=d("logEnabled"),x=Object(i.a)(m,2),p=x[0],k=x[1],w=Object(c.useState)(!1),N=Object(i.a)(w,2),C=N[0],S=N[1];function _(e){return Math.round(Number(e.replaceAll(/[^\d]/g,"").substr(0,3)))}return Object(g.jsxs)("div",{children:[Object(g.jsx)(f.a,{className:"settings-button",icon:v.a,onClick:function(){return S(!0)}}),Object(g.jsx)(h.a,{ariaHideApp:!1,className:"settings-button__modal",overlayClassName:"settings-button__overlay",isOpen:C,onRequestClose:function(){return S(!1)},children:Object(g.jsxs)("div",{className:"config",children:[Object(g.jsx)(f.a,{icon:v.i,className:"settings-button__modal__close",onClick:function(){return S(!1)}}),Object(g.jsxs)("div",{className:"config__properties",children:[Object(g.jsxs)("label",{children:["\u041e\u0442",Object(g.jsx)("input",{value:n,inputMode:"numeric",onChange:function(e){return a(_(e.target.value))}})]}),Object(g.jsxs)("label",{children:["\u0414\u043e",Object(g.jsx)("input",{value:s,inputMode:"numeric",onChange:function(e){return l(_(e.target.value))}})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("label",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",Object(g.jsx)("input",{value:b,inputMode:"numeric",onChange:function(e){return O(_(e.target.value))}})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("label",{children:["\u041b\u043e\u0433",Object(g.jsx)("input",{type:"checkbox",checked:p,onChange:function(){return k(!p)}})]})]})]})})]})}function x(){var e=d("log"),t=Object(i.a)(e,2)[1];return Object(g.jsx)("div",{className:"clear-log-button",onClick:function(){return t([])},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"})}function p(e){return Object(g.jsx)("div",{className:"log-element",children:Object(g.jsxs)("div",{className:"log-element__value",children:[e.value,Object(g.jsx)("sub",{className:"log-element__value__sub",children:e.min+"-"+e.max})]})})}function k(e){var t=Object(c.useRef)(null);return t.current&&(t.current.scrollTop=0),Object(g.jsx)("div",{className:"log-element-list",ref:t,children:e.log.map((function(e,t){return Object(g.jsx)(p,{value:e.value,min:e.min,max:e.max},t)}))})}function w(){var e=d("log"),t=Object(i.a)(e,1)[0],n=d("logEnabled");return Object(i.a)(n,1)[0]?Object(g.jsxs)("div",{className:"log",children:[Object(g.jsx)(k,{log:t}),t.length>0?Object(g.jsx)(x,{}):""]}):Object(g.jsx)(g.Fragment,{})}var N=n(19);function C(){var e=Object(c.useState)("..."),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(!1),r=Object(i.a)(o,2),s=r[0],l=r[1],u=Object(c.useState)("logEnabled"),j=Object(i.a)(u,1)[0],b=d("min"),O=Object(i.a)(b,1)[0],h=d("max"),m=Object(i.a)(h,1)[0],x=d("log"),p=Object(i.a)(x,2),k=p[0],w=p[1];return Object(g.jsx)("div",{className:s?"rotation-animation dice":"dice",onClick:function(){l(!0);var e=function(e,t){if(e>t){var n=[t,e];e=n[0],t=n[1]}return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}(O,m);a(e),j&&function(e,t,n){w([{value:e,min:t,max:n}].concat(Object(N.a)(k)))}(e,O,m),setTimeout((function(){return l(!1)}),400)},children:function(e){if(O<=6&&O>=1&&m<=6&&m>=1){var t=v.b;switch(e){case 1:t=v.e;break;case 2:t=v.h;break;case 3:t=v.g;break;case 4:t=v.d;break;case 5:t=v.c;break;case 6:t=v.f}return Object(g.jsx)(f.a,{className:"dice-value result-value",icon:t})}return Object(g.jsx)("div",{className:"random-number result-value",children:e})}(n)})}function S(){for(var e=d("diceCount"),t=Object(i.a)(e,1)[0],n=[],c=1;c<=t;c++)n.push(Object(g.jsx)(C,{},c));return document.querySelector(":root").style.setProperty("--dice-count",t),Object(g.jsxs)("div",{children:[n.length>1?Object(g.jsxs)("div",{className:"click-all-button",onClick:function(){document.querySelectorAll(".dice").forEach((function(e){return e.click()}))},children:["\u0411\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u043a\u0443\u0431\u0438\u043a\u0438 (",t,")"]}):"",Object(g.jsx)("div",{className:"dice-container",children:n})]})}function _(){var e=b(),t=Object(i.a)(e,1)[0],n=Object(c.useState)(t),a=Object(i.a)(n,2),o=a[0],r=a[1];return Object(g.jsx)("div",{className:"app",children:Object(g.jsxs)(u.Provider,{value:[o,r],children:[Object(g.jsx)(m,{}),Object(g.jsx)("div",{className:"container",children:Object(g.jsx)(S,{})}),Object(g.jsx)("div",{className:"container",children:Object(g.jsx)(w,{})})]})})}var y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))};r.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(_,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/custom-counters",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/custom-counters","/service-worker.js");y?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):E(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):E(t,e)}))}}(),M()}},[[41,1,2]]]);
//# sourceMappingURL=main.d4b54293.chunk.js.map